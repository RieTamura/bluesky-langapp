# 実装タスクリスト（フェーズ別）

## フェーズ1: 最小限のMVP（既存CLI機能のWeb化）

### 目標: 現在のCLI機能をシンプルなWebアプリとして動作させる

- [x] 1. プロジェクト基盤の構築

  - 最小限のTypeScript設定とプロジェクト構造の初期化
  - 既存のbackend/server.jsを拡張
  - 基本的な開発環境の構築
  - _要件: 7.1_

- [x] 2. シンプルなデータ管理の設定

  - [x] 2.1 JSONファイルベースのデータ管理

    - 既存のwords.jsonを拡張してユーザーデータも管理
    - ファイルベースの読み書き機能の実装
    - データのバックアップ機能
    - _要件: 6.1_

  - [x] 2.2 Gitベースのバージョン管理準備

    - 学習データをGitで管理する基盤作り
    - 手動でのTangled連携のためのエクスポート機能
    - データ形式の標準化
    - _要件: 6.1, 6.2_

- [x] 3. バックエンドAPI基盤（最小限）

  - [x] 3.1 Express.jsサーバーの拡張

    - 既存のserver.jsにAPI機能を追加
    - CORS設定とJSON parser追加
    - 基本的なエラーハンドリング
    - _要件: 1.1_

  - [x] 3.2 Bluesky API連携の移植

    - 既存のindex.jsからBluesky認証機能を移植
    - 投稿取得機能をAPI化
    - _要件: 1.2, 2.1_

- [x] 4. 認証機能（簡易版）

  - [x] 4.1 シンプルな認証APIの実装

    - POST /api/auth/login エンドポイント（セッションベース）
    - 認証状態の確認機能
    - _要件: 1.1, 1.2_

- [x] 5. 投稿と単語管理API（基本版）

  - [x] 5.1 投稿取得APIの実装

    - GET /api/posts エンドポイント
    - 既存の単語抽出ロジックを移植
    - _要件: 2.1, 2.2_

  - [x] 5.2 単語管理APIの実装

    - GET /api/words エンドポイント
    - POST /api/words エンドポイント
    - PUT /api/words/:id エンドポイント（ステータス更新）
    - _要件: 3.1, 3.2, 3.3_

- [x] 6. フロントエンド基盤（最小限）

  - [x] 6.1 シンプルなHTML/CSS/JSフロントエンドの作成

    - 静的ファイル配信の設定
    - 基本的なレイアウトとスタイリング
    - _要件: 7.1_

- [x] 7. 基本UI実装

  - [x] 7.1 ログインフォームの実装

    - シンプルなログインフォーム
    - 認証状態の管理
    - _要件: 1.1_

  - [x] 7.2 投稿表示画面の実装

    - 投稿一覧の表示
    - 単語のハイライト表示（色分け）
    - 単語クリック時の保存機能
    - _要件: 2.1, 2.2, 3.1_

  - [x] 7.3 単語一覧画面の実装

    - 保存済み単語の一覧表示
    - 単語ステータスの変更機能
    - _要件: 3.3, 3.4_

- [x] 7.4 単語並び替え機能の実装

  - 追加日順（新しい順）での単語表示
  - 並び替えオプションの追加（追加日順、アルファベット順）
  - 単語保存時の正確な追加日時の記録
  - _要件: 3.5, 3.6_

- [x] 7.5 単語削除機能の実装

  - 単語アイテムに削除ボタンの追加
  - 削除確認ダイアログの実装
  - 削除後の統計とリストの更新
  - _要件: 3.7_

## フェーズ2: 学習機能の追加

### 目標: 基本的な学習機能を追加し、実用的なアプリにする

- [x] 8. 辞書機能の実装

  - [x] 8.1 無料辞書APIの連携

    - Free Dictionary APIまたはWiktionary APIの連携
    - GET /api/words/:word/definition エンドポイント
    - _要件: 4.1_

  - [x] 8.2 単語詳細表示の実装

    - 単語の意味表示機能
    - 例文表示機能
    - _要件: 4.1_

- [x] 9. 基本的なクイズ機能

  - [x] 9.1 シンプルなクイズAPIの実装

    - GET /api/learning/quiz エンドポイント
    - POST /api/learning/quiz/answer エンドポイント
    - 基本的な問題生成ロジック
    - _要件: 4.2, 4.3_

  - [x] 9.2 クイズUI の実装

    - 問題表示画面
    - 回答入力・選択機能
    - 結果表示機能
    - _要件: 4.2, 4.3_

- [x] 10. 学習進捗の基本表示

  - [x] 10.1 簡易統計APIの実装

    - GET /api/learning/stats エンドポイント
    - 基本的な学習統計の計算
    - _要件: 5.1, 5.2_

  - [x] 10.2 進捗表示画面の実装

    - 学習済み単語数の表示
    - 学習状況の概要表示
    - _要件: 5.1, 5.2_

## フェーズ3: 高度な機能とUI改善

### 目標: React化とより高度な学習機能の実装

- [x] 11. Astroへの移行

  - [x] 11.1 Astro + TypeScript プロジェクトセットアップ

    - Astroプロジェクトの作成とTypeScript設定
    - 既存のHTMLをAstroコンポーネントに移行
    - React Islandsの設定（インタラクティブ部分用）
    - _要件: 7.1, 7.2_

  - [x] 11.2 軽量状態管理の実装

    - Nanostoresによる状態管理
    - API通信の統合
    - アイランド間でのデータ共有
    - _要件: 1.4_

- [x] 12. UI/UXの改善

  - [x] 12.1 レスポンシブデザインの実装

    - モバイル対応のレイアウト
    - タッチフレンドリーなインターフェース
    - _要件: 7.2, 7.3_

  - [x] 12.2 Tailwind CSSまたはUnoCSS の導入

    - Astro最適化されたCSS フレームワーク
    - 統一されたデザインシステム
    - アクセシビリティの改善
    - _要件: 7.1, 7.3_

- [ ] 13. 高度な学習機能
  - [ ] 13.1 学習アルゴリズムの改善
    - 間隔反復学習の実装
    - 難易度調整機能
    - _要件: 4.4_

  - [ ] 13.2 詳細な進捗可視化
    - Chart.jsを使用したグラフ表示
    - 学習カレンダーの実装
    - 目標設定機能
    - _要件: 5.1, 5.2, 5.3, 5.4_

- [ ] 14. データ管理とエクスポート機能
  - [ ] 14.1 手動Tangled連携のためのデータ管理
    - 学習データのGit形式エクスポート機能
    - Tangledへの手動アップロード用データ準備
    - データの履歴管理とバックアップ
    - _要件: 6.3_

  - [ ] 14.2 ATProtocol連携機能
    - 学習成果のBlueskyへの投稿機能
    - 学習データの共有用フォーマット作成
    - 将来のAPI連携に備えたデータ構造設計
    - _要件: 6.3_

## フェーズ4: 本番対応と最適化

### 目標: 本番環境での運用に向けた最適化

- [ ] 15. テストの実装
  - [ ] 15.1 単体テストの作成
    - 重要な機能の単体テスト
    - API エンドポイントのテスト
    - _要件: 全要件_

  - [ ] 15.2 統合テストの作成
    - ユーザーフローのテスト
    - データベース統合テスト
    - _要件: 全要件_

- [ ] 16. パフォーマンス最適化
  - [ ] 16.1 フロントエンド最適化
    - バンドルサイズの最適化
    - レイジーローディングの実装
    - _要件: 7.1_

  - [ ] 16.2 バックエンド最適化
    - データベースクエリの最適化
    - キャッシュ機能の実装
    - _要件: 6.1_

- [ ] 17. 本番環境対応
  - [ ] 17.1 デプロイ設定
    - Vercel/Netlify（フロントエンド）の設定
    - Railway/Render（バックエンド）の設定
    - 環境変数の管理
    - _要件: 6.4_

  - [ ] 17.2 監視とログ設定
    - エラー監視の設定
    - パフォーマンス監視
    - ログ管理
    - _要件: 6.4_
