# Bluesky OAuth client config (mobile)

This file explains how to configure the mobile app for OAuth with Bluesky.

1. Create a client metadata JSON and host it on a public HTTPS URL. Example metadata: 

{
  "client_id": "https://<YOUR_HOST>/client-metadata.json",
  "client_name": "Bluesky LangApp (dev)",
  "client_uri": "https://<YOUR_HOST>",
  "redirect_uris": ["<YOUR_REDIRECT_URI>"],
  "scope": "atproto",
  "grant_types": ["authorization_code", "refresh_token"],
  "response_types": ["code"],
  "token_endpoint_auth_method": "none",
  "application_type": "web",
  "dpop_bound_access_tokens": true
}

2. Set the `blueskyClientId` value in `app.json` (expo.extra.blueskyClientId) to the exact URL used for the `client_id` above.

3. Ensure the redirect URI you use is allowed in the client metadata. For Expo Go development you can use the proxy redirect URI generated by `AuthSession.makeRedirectUri({ useProxy: true })` but for TestFlight / standalone builds you will need to register an exact HTTPS redirect URI.

4. For production/TestFlight, follow the OAuth Client Quickstart in `node_modules/@atproto/api/OAUTH.md` to host metadata and manage secrets securely.
